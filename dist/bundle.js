(()=>{"use strict";var t,e;(e=t||(t={})).ADD_TASK="ADD_TASK",e.REMOVE_TASK="REMOVE_TASK",e.TOGGLE_TASK="TOGGLE_TASK",e.GETPRODUCTS="GETPRODUCTS";let i=(t=>{const e=localStorage.getItem(t)||sessionStorage.getItem(t);return e?JSON.parse(e):{taskItems:[]}})("STORE"),o=[];const r=e=>{const r=((e,i)=>{const{action:o,payload:r}=e;switch(o){case t.ADD_TASK:return Object.assign(Object.assign({},i),{taskItems:[...i.taskItems,r]});case t.REMOVE_TASK:return Object.assign(Object.assign({},i),{taskItems:i.taskItems.filter((t=>t.title!==r.title||t.description!==r.description))});case t.TOGGLE_TASK:const e=[];return i.taskItems.forEach((t=>{r.title==t.title&&r.description==t.description?e.push(r):e.push(t)})),Object.assign(Object.assign({},i),{taskItems:e});default:return i}})(e,JSON.parse(JSON.stringify(i)));i=r,((t,e,i=!1)=>{const o=i?sessionStorage:localStorage,r=JSON.stringify(e);o.setItem(t,r)})("STORE",r),o.forEach((t=>t.render()))},s=t=>{o=[...o,t]};const n=()=>{return t=void 0,e=void 0,o=function*(){try{return yield fetch("https://fakestoreapi.com/products").then((t=>t.json()))}catch(t){console.error(t)}},new((i=void 0)||(i=Promise))((function(r,s){function n(t){try{a(o.next(t))}catch(t){s(t)}}function c(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,c)}a((o=o.apply(t,e||[])).next())}));var t,e,i,o},c=e=>({action:t.ADD_TASK,payload:e});var a;!function(t){t.idProduct="idProduct",t.image="image",t.titleproduct="titleproduct",t.description="description",t.category="category",t.price="price",t.state="state"}(a||(a={}));class d extends HTMLElement{static get observedAttributes(){return Object.values(a)}attributeChangedCallback(t,e,i){switch(t){case a.price:this.price=i?Number(i):void 0;break;case a.idProduct:this.idProduct=i?Number(i):void 0;break;default:this[t]=i}}constructor(){super(),this.attachShadow({mode:"open"}),s(this)}connectedCallback(){this.render()}render(){var t;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            <link rel="stylesheet" href="../src/components/product/product.css">\n            <div class="product">\n                <div class="image">\n                    <img src="${this.image}" || 'No Image'}">\n                </div>\n                <div class="information">\n                    <div class="details">\n                        <h3>${this.titleproduct||"No Title"}</h3>\n                        <div class="description">\n                            <p >${this.description||"No Description"}</p>\n                        </div>\n                        <p class="category">Category: ${this.category||"No Category"}</p>\n                        <p class="price">$${this.price||"No Price"}</p>\n                        \n                        <button id="shopping_cart">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24"><path fill="currentColor" d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3M7 18c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m10 0c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m-9.8-3.2v-.1l.9-1.7h7.4c.7 0 1.4-.4 1.7-1l3.9-7l-1.7-1l-3.9 7h-7L4.3 2H1v2h2l3.6 7.6L5.2 14c-.1.3-.2.6-.2 1c0 1.1.9 2 2 2h12v-2H7.4c-.1 0-.2-.1-.2-.2"/></svg>\n                        </button>\n                        <button id="delete">Eliminar</button>\n                    </div>\n                </div>\n            </div>       \n                `);const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("#shopping_cart");null==e||e.addEventListener("click",(()=>{r(c({idProduct:this.idProduct,image:this.image,titleproduct:this.titleproduct,description:this.description,category:this.category,price:this.price}))}))}}customElements.define("product-item",d);class u extends HTMLElement{constructor(){super(),this.datProducts=[],this.productItem=[],this.attachShadow({mode:"open"}),s(this)}static get observedAttributes(){return["container"]}attributeChangedCallback(t,e,i){"form"===t&&this.render()}connectedCallback(){return t=this,e=void 0,o=function*(){this.datProducts=yield n(),this.createProductItem(),this.render()},new((i=void 0)||(i=Promise))((function(r,s){function n(t){try{a(o.next(t))}catch(t){s(t)}}function c(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,c)}a((o=o.apply(t,e||[])).next())}));var t,e,i,o}createProductItem(){this.datProducts.forEach((t=>{const e=this.ownerDocument.createElement("product-item");e.setAttribute(a.titleproduct,String(t.title)),e.setAttribute(a.image,String(t.image)),e.setAttribute(a.category,String(t.category)),e.setAttribute(a.price,String(t.price)),e.setAttribute(a.description,String(t.description)),e.setAttribute(a.state,String(t.state)),this.productItem.push(e)}))}render(){var t;if(this.shadowRoot){this.shadowRoot.innerHTML='\n        \n\t\t\t<div class="container"></div>\n    ',this.createProductItem();const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".container");this.productItem.forEach((t=>{null==e||e.appendChild(t)}))}}}customElements.define("product-list",u);class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return["form"]}attributeChangedCallback(t,e,i){"form"===t&&this.render()}connectedCallback(){this.render()}render(){var t,e,i,o,s,n;if(this.shadowRoot){this.shadowRoot.innerHTML='\n             <h1>ADD PRODUCT</h1>\n    \t\t<form action="">\n\t\t\t\t<input id="title" type="text" placeholder="titulo">\n\t\t\t\t<input id="description" type="text" placeholder="escribe la descripcion">\n\t\t\t\t<input id="price" type="number" placeholder="price">\n\t\t\t\t<input id="category" type="text" placeholder="category">\n\t\t\t\t<input id="image" type="text" placeholder="image">\n\t\t\t\t<input id="submitSend" type="submit" value="aÃ±adir">\n    \t\t</form>\n            ';const a=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("form"),d=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("#title"),u=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("#price"),h=null===(o=this.shadowRoot)||void 0===o?void 0:o.querySelector("#category"),l=null===(s=this.shadowRoot)||void 0===s?void 0:s.querySelector("#image"),p=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("#description");null==a||a.addEventListener("submit",(()=>{r(c({title:d?d.value:"No title",description:p?p.value:"No description",image:l?l.value:"No title",price:u?u.value:"No title",category:h?h.value:"No description",state:!1}))}))}}}customElements.define("product-form",h);class l extends HTMLElement{constructor(){super(),this.products=[],this.dataProducts=[],this.attachShadow({mode:"open"}),s(this)}connectedCallback(){return t=this,e=void 0,o=function*(){this.dataProducts=yield n(),this.createCardsProduct(),this.render()},new((i=void 0)||(i=Promise))((function(r,s){function n(t){try{a(o.next(t))}catch(t){s(t)}}function c(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,c)}a((o=o.apply(t,e||[])).next())}));var t,e,i,o}createCardsProduct(){this.dataProducts.forEach((t=>{const e=this.ownerDocument.createElement("product-list");e.setAttribute(a.image,t.image),e.setAttribute(a.titleproduct,t.title),e.setAttribute(a.description,t.description),e.setAttribute(a.category,t.category),e.setAttribute(a.price,t.price),this.products.push(e)}))}render(){var t;if(this.shadowRoot){this.shadowRoot.innerHTML='\n              \n           <h1>PRODUCTS</h1>\n                <div class="container-products"></div>\n             <product-item></product-item>\n                <hr>\n               \n                ';const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".container-products");this.products.forEach((t=>{null==e||e.appendChild(t)}))}}}customElements.define("app-dashboard",l);class p extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){var t;if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=this.ownerDocument.createElement("app-dashboard");null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)}}}customElements.define("app-container",p)})();